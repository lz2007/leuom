/*
 * @Author: xuanyanqing 
 * @Date: 2019-01-08 17:21:10 
 * @Last Modified by:   xuanyanqing 
 * @Last Modified time: 2019-01-08 17:21:10 
 */

<template>
    <div class="jdzxpt-dxcc-qzcs" :class="[@extra_class ? 'znsb_qzcs_en' : '']">
        <div class="search_box">
            <div class="hBox rowOne">
                <div class="dataFormBox dataTreeBox">
                    <span>{{@qzcs_language.dutyDepartment}}</span>
                    <div class="dep_tree" :controller="dxcc_qzcs_tree">
                        <ms-tree-selecting :widget="{tree: @tree_data, showSearch: true, wrapId: 'qzcs-tree-select', getSelected: @getSelected, selectedKey: @tree_key ? @tree_key : '', selectedTitle: @tree_title ? @tree_title : '', onChange: @select_change, extraExpandHandle: @extraExpandHandle, branchShow:true, clickBranchBack:@clickBranchBack, includedStatus:@included_status}"></ms-tree-selecting>
                    </div>
                </div>
                <div class="dataFormBox">
                    <span>{{@qzcs_language.nameId}}</span>
                    <div class="qzcs_input_panel">
                        <input type="text" ms-duplex="@police_id" class="form-control-input police_id" :keyup="@name_input_enter"
                            id="police_id" :attr="{title: @police_id_title}" :focus="@input_focus('police_id')"
                            :blur="@input_blur('police_id')">
                        <span class="fa fa-close qzcs_right_close" :mousedown="@close_click('police_id')" :if="@police_id_close"></span>
                    </div>
                </div>
                <div class="dataRadioBox" :controller="dxcc_qzcs_time_range">
                    <span>{{@qzcs_language.timeRange}}</span>
                    <ms-select :widget="{col: 'con', options:@time_range_options, value: @time_range, onChange: @onChangeTR}"
                        :class="['formInput']"></ms-select>
                    <div class="dataTimeBox" :if="@select_time">
                        <div class="qzcs-dataRight" :controller="dxcc_qzcs_startTime">
                            <ms-datepicker :widget="{onChange:@handlerChange, placeholder:'请选择开始时间', value:@qzcs_startTime, showTime: false, endDate:@endDate, direction: 'down', languageSelect: @extra_class ? 'en' : ''}"></ms-datepicker>
                        </div>
                        <span>~</span>
                        <div class="qzcs-dataRight" :controller="dxcc_qzcs_endTime">
                            <ms-datepicker :widget="{onChange:@handlerChange, placeholder:'请选择结束时间', value:@qzcs_endTime, showTime: false, endDate:@endDate, direction: 'down', languageSelect: @extra_class ? 'en' : ''}"></ms-datepicker>
                        </div>
                    </div>
                </div>
                <a class="common_search_btn" :click="@searchBtn" :if="@opt_qzcs.authority.SEARCH">{{@qzcs_language.searchBtn}}</a>
            </div>
            <div class="hBox rowTwo">
                <div class="dataFormBox colOne">
                    <span>{{@qzcs_language.illegalPlace}}</span>
                    <div class="qzcs_input_panel">
                        <input type="text" ms-duplex="@wfdd" class="form-control-input wfdd" :keyup="@name_input_enter"
                            id="wfdd" :attr="{title: @wfdd_title}" :focus="@input_focus('wfdd')"
                            :blur="@input_blur('wfdd')">
                        <span class="fa fa-close qzcs_right_close" :mousedown="@close_click('wfdd')" :if="@wfdd_close"></span>
                    </div>
                </div>
                <div class="dataFormBox colTwo">
                    <span>{{@qzcs_language.party}}</span>
                    <div class="qzcs_input_panel">
                        <input type="text" ms-duplex="@dsr" class="form-control-input dsr" :keyup="@name_input_enter"
                            id="dsr" :attr="{title: @dsr_title}" :focus="@input_focus('dsr')"
                            :blur="@input_blur('dsr')">
                        <span class="fa fa-close qzcs_right_close" :mousedown="@close_click('dsr')" :if="@dsr_close"></span>
                    </div>
                </div>
                <div class="dataFormBox colThree">
                    <span>{{@qzcs_language.drivingLicenceNumber}}</span>
                    <div class="qzcs_input_panel">
                        <input type="text" ms-duplex="@cphm" class="form-control-input cphm" :keyup="@name_input_enter"
                            id="cphm" :attr="{title: @cphm_title}" :focus="@input_focus('cphm')"
                            :blur="@input_blur('cphm')">
                        <span class="fa fa-close qzcs_right_close" :mousedown="@close_click('cphm')" :if="@cphm_close"></span>
                    </div>
                </div>
                <div class="dataFormBox">
                    <span>{{@qzcs_language.licensePlate}}</span>
                    <div class="qzcs_input_panel">
                        <input type="text" ms-duplex="@jszh" class="form-control-input jszh" :keyup="@name_input_enter"
                            id="jszh" :attr="{title: @jszh_title}" :focus="@input_focus('jszh')"
                            :blur="@input_blur('jszh')">
                        <span class="fa fa-close qzcs_right_close" :mousedown="@close_click('jszh')" :if="@jszh_close"></span>
                    </div>
                </div>
                    
            </div>
            <div class="hBox rowThree">
                <div class="dataFormBox colOne">
                    <span>{{@qzcs_language.voucherNumber}}</span>
                    <div class="qzcs_input_panel">
                        <input type="text" ms-duplex="@pzbh" class="form-control-input pzbh" :keyup="@name_input_enter"
                            id="pzbh" :attr="{title: @pzbh_title}"
                            :focus="@input_focus('pzbh')" :blur="@input_blur('pzbh')">
                        <span class="fa fa-close qzcs_right_close" :mousedown="@close_click('pzbh')" :if="@pzbh_close"></span>
                    </div>
                </div>
                <div class="dataFormBox colTwo" :controller="jdzxpt_dxcc_qzcs_qzcskpQjzb_kpjg">
                    <span>{{@qzcs_language.evaluationResult}}</span>
                    <ms-select :widget="{col:'evaResult', options:@evaResult_options, value: @evaResult, onChange: @onChangeevaResult}" :class="['formInput']"></ms-select>
                </div>
                <div class="dataFormBox colThree" :controller="jdzxpt_dxcc_qzcs_qzcskpQjzb_hcjg">
                    <span>{{@qzcs_language.checkResult}}</span>
                    <ms-select :widget="{col:'reviewResult', options:@reviewResult_options, value: @reviewResult, onChange: @onChangereviewResult}" :class="['formInput']"></ms-select>
                </div>
                <div class="dataFormBox" :controller="jdzxpt_dxcc_qzcs_glmt">
                    <span>{{@qzcs_language.relatedMedia}}</span>
                    <ms-select :widget="{col:'glmt', options:@glmt_options, value: @glmt, onChange: @onChangeglmt}" :class="['formInput']"></ms-select>
                </div>
            </div>

        </div>
        <div class="qzcs-table" :if="@key_dep_switch">
            <ms-comtable :widget="{id:'znsb-qzcs-table', loading:@loading, data:@table_list, actions:@actions, panelCss:{position: 'absolute',bottom: 60,top: 100,left: 0,right: 0}}">
                <ms-comtable-header :widget="{title:@qzcs_language.tableNo, dataIndex:'table_index', colwidth:'5%', popover:true}"></ms-comtable-header>
                <ms-comtable-header :widget="{title:@qzcs_language.dutyDepartment, popover:true, colwidth:'8%'}">
                    <span :skip :attr="{'data-original-title':record.orgCode,dep:'dep_switch',fir:'true'}">{{record.zqbm | isNull}}</span>
                </ms-comtable-header>
                <ms-comtable-header :widget="{title:@qzcs_language.illegalTime, popover:true, colwidth:'8%'}">
                    <span :skip>{{record.wfsj | isNull}}</span>
                </ms-comtable-header>
                <ms-comtable-header :widget="{title:@qzcs_language.nameId, popover:true, colwidth:'8%'}">
                    <span :skip>{{record.jy | isNull}}</span>
                </ms-comtable-header>
                <ms-comtable-header :widget="{title:@qzcs_language.party, popover:true, colwidth:'8%'}">
                    <span :skip>{{record.dsr | isNull}}</span>
                </ms-comtable-header>
                <ms-comtable-header :widget="{title:@qzcs_language.licensePlate, popover:true, colwidth:'8%'}">
                    <span :skip>{{record.jszh | isNull}}</span>
                </ms-comtable-header>
                <ms-comtable-header :widget="{title:@qzcs_language.drivingLicenceNumber, colwidth:'8%', popover:true}">
                    <span :skip>{{record.cphm | isNull}}</span>
                </ms-comtable-header>
                <ms-comtable-header :widget="{title:@qzcs_language.voucherNumber, colwidth:'10%', popover:true}">
                    <span :skip>{{record.pzbh | isNull}}</span>
                </ms-comtable-header>
                <ms-comtable-header :widget="{title:@qzcs_language.illegalPlace, colwidth:'8%', popover:true}">
                    <span :skip>{{record.wfdd | isNull}}</span>
                </ms-comtable-header>
                <ms-comtable-header :widget="{title:@qzcs_language.relatedMedia, colwidth:'8%', popover:true}">
                    <span :skip>{{record.glmt | isNull}}</span>
                </ms-comtable-header>
                <ms-comtable-header :widget="{title:@qzcs_language.evaluationResult, colwidth:'8%', popover:true}">
                    <span :skip>{{record.evaResult | isNull}}</span>
                </ms-comtable-header>   
                <ms-comtable-header :widget="{title:@qzcs_language.checkResult, colwidth:'8%', popover:true}">
                    <span :skip>{{record.reviewResult | isNull}}</span>
                </ms-comtable-header> 
                <ms-comtable-header :widget="{title:@qzcs_language.tableOperation, colwidth:'5%', popover:true}">
                    <span :controller="dxcc_qzcs_opt_look">
                        <a :attr="{title: @lookTxt}" class="action-btn" :click="@onClick(record)" :if="@authority.SEARCH">
                            <img src="/static/image/zfsypsjglpt/checkBtn.png">
                        </a>  
                        <a :if="!@authority.SEARCH">-</a>           
                    </span>
                </ms-comtable-header>   
            </ms-comtable>
        </div>
        <div class="qzcs-table" :if="!@key_dep_switch">
                <ms-comtable :widget="{id:'znsb-qzcs-table', loading:@loading, data:@table_list, actions:@actions, panelCss:{position: 'absolute',bottom: 60,top: 100,left: 0,right: 0}}">
                    <ms-comtable-header :widget="{title:@qzcs_language.tableNo, dataIndex:'table_index', colwidth:'5%', popover:true}"></ms-comtable-header>
                    <ms-comtable-header :widget="{title:@qzcs_language.dutyDepartment, popover:true, colwidth:'8%'}">
                        <span :skip :attr="{'data-original-title':record.zqbm}">{{record.zqbm | isNull}}</span>
                    </ms-comtable-header>
                    <ms-comtable-header :widget="{title:@qzcs_language.illegalTime, popover:true, colwidth:'8%'}">
                        <span :skip>{{record.wfsj | isNull}}</span>
                    </ms-comtable-header>
                    <ms-comtable-header :widget="{title:@qzcs_language.nameId, popover:true, colwidth:'8%'}">
                        <span :skip>{{record.jy | isNull}}</span>
                    </ms-comtable-header>
                    <ms-comtable-header :widget="{title:@qzcs_language.party, popover:true, colwidth:'8%'}">
                        <span :skip>{{record.dsr | isNull}}</span>
                    </ms-comtable-header>
                    <ms-comtable-header :widget="{title:@qzcs_language.licensePlate, popover:true, colwidth:'8%'}">
                        <span :skip>{{record.jszh | isNull}}</span>
                    </ms-comtable-header>
                    <ms-comtable-header :widget="{title:@qzcs_language.drivingLicenceNumber, colwidth:'8%', popover:true}">
                        <span :skip>{{record.cphm | isNull}}</span>
                    </ms-comtable-header>
                    <ms-comtable-header :widget="{title:@qzcs_language.voucherNumber, colwidth:'10%', popover:true}">
                        <span :skip>{{record.pzbh | isNull}}</span>
                    </ms-comtable-header>
                    <ms-comtable-header :widget="{title:@qzcs_language.illegalPlace, colwidth:'8%', popover:true}">
                        <span :skip>{{record.wfdd | isNull}}</span>
                    </ms-comtable-header>
                    <ms-comtable-header :widget="{title:@qzcs_language.relatedMedia, colwidth:'8%', popover:true}">
                        <span :skip>{{record.glmt | isNull}}</span>
                    </ms-comtable-header>
                    <ms-comtable-header :widget="{title:@qzcs_language.evaluationResult, colwidth:'8%', popover:true}">
                        <span :skip>{{record.evaResult | isNull}}</span>
                    </ms-comtable-header>   
                    <ms-comtable-header :widget="{title:@qzcs_language.checkResult, colwidth:'8%', popover:true}">
                        <span :skip>{{record.reviewResult | isNull}}</span>
                    </ms-comtable-header> 
                    <ms-comtable-header :widget="{title:@qzcs_language.tableOperation, colwidth:'5%', popover:true}">
                        <span :controller="dxcc_qzcs_opt_look">
                            <a :attr="{title: @lookTxt}" class="action-btn" :click="@onClick(record)" :if="@authority.SEARCH">
                                <img src="/static/image/zfsypsjglpt/checkBtn.png">
                            </a>  
                            <a :if="!@authority.SEARCH">-</a>           
                        </span>
                    </ms-comtable-header>   
                </ms-comtable>
            </div>
        
        <ms-pages :widget="{total:@table_pagination.total, pageSize:@table_pagination.pageSize, current:@table_pagination.current, onChange:@handlePageChange, getCurrent:@getCurrent, overLimit:@page_type}"></ms-pages>

    </div>
</template>