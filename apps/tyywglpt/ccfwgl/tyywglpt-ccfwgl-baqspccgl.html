<!--
 * @Description: 运维中心-办案区管理-办案区视频存储管理
 * @Author: chenjinxing
 * @Date: 2019-07-09 11:46:19
 * @LastEditTime: 2019-09-03 09:18:14
 * @LastEditors: Please set LastEditors
 -->
 <template>
    <article class="ccfwgl-wrap tyywglpt cjzscfwgl baqspccglcss">
        <!--查询下拉-->
        <div class="tyywglpt-search-box">
            <xmp :widget="{is:'ms-form',$form:@$form,inline:true}">
                <ms-form-item :widget="{label:'所属部门:'}" :class="'form-item form-org'">
                    <ms-tree-selecting :widget="{tree:@orgData, showSearch:true, wrapId: 'tree-select-wrap-1', getSelected:@getSelected,selectedTitle:@selectedTitle,selectedKey:@orgCode,onChange:@handleTreeChange,extraExpandHandle:@extraExpandHandle}"></ms-tree-selecting>
                </ms-form-item>
                <button :if="@authority.SEARCH" type="button" class="btn btn-query" :click="@querySearch">查询</button>
            </xmp>
        </div>
        <!--按钮组-->
        <div class="tyywglpt-tool-bar">
            <input :if="@authority.SAVE" :class="['btn','btn-tool',(@checkBox.length == 0 ? '' : 'disabled')]" type="button"
                value="添加" :click="@handleAddClick()">
            <!-- <input :if="@authority.CCCL" :class="['btn','btn-tool',(@btnDisabled ? 'disabled' : '')]" type="button" value="存储策略" :click="@handleMethodClick()"> -->
            <input :if="@authority.CCCL" :class="['btn','btn-tool',(@btnDisabled ? 'disabled' : '')]" type="button"
                value="存储策略" :click="@handleMethodClick2()">
            <!-- <input :if="@authority.CCFX" :class="['btn','btn-tool',(@btnDisabled ? 'disabled' : '')]" type="button" value="存储分析" :click="@handleAnalysisClick()"> -->
            <!-- <input :if="@authority.ZFJLYFP" :class="['btn','btn-tool','width-130',(@btnDisabled ? 'disabled' : '')]" type="button" value="执法记录仪分配" :click="@handleStationAllocation()"> -->
            <input :if="@authority.ZFJLYFP" :class="['btn','btn-tool','width-130',(@btnDisabled ? 'disabled' : '')]"
                type="button" value="存储分配" :click="@handleZfyAllocation()">
        </div>
        <!-- 查看 -->
        <div :controller="ccfwgl_baqspccgl_lookDialog">
            <xmp :widget="{title : @title,is:'common-ms-modal',modalSelector:'.ccfwglLookDialog',drag:true,modalWidth:440,show: @show, onCancel: @handleCancel, onOk: @handleOk,ifcancelBtn:fasle, ifokBtn:false}">
                <div class="  commonDialog ccfwgl ccfwglLookDialog">
                    <div class="look"><label for="">服务名称:</label><span :attr="{title:json.name}">{{json.name}}</span></div>
                    <div class="look"><label for="">IP:</label><span :attr="{title:json.ip}">{{json.ip}}</span></div>
                    <div class="look"><label for="">所属部门:</label><span :attr="{title:json.belong}">{{json.belong}}</span></div>
                    <div class="look"><label for="">端口:</label><span :attr="{title:json.port}">{{json.port}}</span></div>
                    <div class="look"><label for="">账号:</label><span :attr="{title:json.account}">{{json.account}}</span></div>
                    <div class="look"><label for="">密码:</label><span :attr="{title:json.password}">{{json.password}}</span></div>
                    <div class="look"><label for="">服务ID:</label><span :attr="{title:json.id}">{{json.id}}</span></div>
                    <div class="look"><label for="">服务时段:</label><span :attr="{title:json.serviceTime}">{{json.serviceTime}}</span></div>
                    <div class="look"><label for="">上传路径:</label><span :attr="{title:json.uploadUrl}">{{json.uploadUrl}}</span></div>
                    <div class="look"><label for="">下载路径:</label><span :attr="{title:json.downloadUrl}">{{json.downloadUrl}}</span></div>
                    <!-- <div class="look"><label for="">点播路径:</label><span>{{json.pointPlayUrl}}</span></div> -->
                    <div class="clear"></div>
                </div>
            </xmp>
        </div>
        <!-- 修改 -->
        <div :controller="ccfwgl_baqspccgl_modifyDialog" class="ccfwglAddModify">
            <xmp :widget="{title : @title,is:'common-ms-modal',modalSelector:'.ccfwglModifyDialog',drag:true,modalWidth:720,show: @show, onCancel: @handleCancel, onOk: @handleOk, btnalign:'center'}">
                <div class="commonDialog ccfwgl ccfwglModifyDialog">
                    <div class="ccfwgl-row  ccfwgl-serviceName"><label for=""><i>*</i>服务名称</label><input type="text"
                            class="form-control" :duplex="@json.name" :focus="@handleInputFocus('serviceName',$event)"
                            :blur="@handleInputBlur('serviceName','ccfwglModifyDialog',$event)"><em class="fa fa-close close-clear"
                            :mousedown="@handleCloseClear" name="ccfwglModifyDialog.name"></em></div>
                    <div class="ccfwgl-row double ccfwgl-ip"><label for=""><i>*</i>IP</label><input type="text" class="form-control"
                            :duplex="@json.ip" :focus="@handleInputFocus('ip',$event)" :blur="@handleInputBlur('ip','ccfwglModifyDialog',$event)"><span
                            class="ccfwgl-form-tips" :visible="@showIpBelowTips"><em class="fa fa-info-circle"></em>&nbsp;支持0~255的数字与.的组合</span>
                        <em class="fa fa-close close-clear" :mousedown="@handleCloseClear" name="ccfwglModifyDialog.ip"></em>
                    </div>
                    <div class="ccfwgl-row organazition">
                        <ms-form :widget="{$form:@$form,inline:true}">
                            <ms-form-item :widget="{label:'所属部门'}" :class="'form-item'">
                                <ms-tree-selecting :widget="{tree:@orgData, showSearch:true,selectedKey:@orgCode, selectedTitle:@selectedTitle,wrapId: 'tree-select-ccfwgl-3', getSelected:@getSelected,onChange:@handleTreeChange,extraExpandHandle:@extraExpandHandle}"></ms-tree-selecting>
                            </ms-form-item>
                        </ms-form>
                    </div>
                    <div class="ccfwgl-row double  ccfwgl-port"><label for=""><i>*</i>端口</label><input type="text"
                            class="form-control" :duplex="@json.port" :focus="@handleInputFocus('port',$event)" :blur="@handleInputBlur('port','ccfwglModifyDialog',$event)"><span
                            class="ccfwgl-form-tips" :visible="@showPortBelowTips"><em class="fa fa-info-circle"></em>&nbsp;支持数字组合[0~65535]大小范围</span>
                        <em class="fa fa-close close-clear" :mousedown="@handleCloseClear" name="ccfwglModifyDialog.port"></em>
                    </div>
                    <div class="ccfwgl-row ccfwgl-account"><label for=""><i>*</i>账号</label><input type="text" class="form-control"
                            :duplex="@json.account" :focus="@handleInputFocus('account',$event)" :blur="@handleInputBlur('account','ccfwglModifyDialog',$event)"><em
                            class="fa fa-close close-clear" :mousedown="@handleCloseClear" name="ccfwglModifyDialog.account"></em></div>
                    <div class="ccfwgl-row double ccfwgl-password"><label for=""><i>*</i>密码</label><input type="text"
                            class="form-control" :duplex="@json.password" :focus="@handleInputFocus('password',$event)"
                            :blur="@handleInputBlur('password','ccfwglModifyDialog',$event)"><em class="fa fa-close close-clear"
                            :mousedown="@handleCloseClear" name="ccfwglModifyDialog.password"></em></div>
                    <div class="ccfwgl-row ccfwgl-beginTime">
                        <label for=""><i>*</i>开始时段</label>
                        <ms-timepicker :widget="{
                        value:@beginTime,onChange:@handleTimePiker1
                       }"></ms-timepicker>
                    </div>
                    <div class="ccfwgl-row double ccfwgl-endTime">
                        <label for=""><i>*</i>结束时段</label>
                        <ms-timepicker :widget="{
                            value:@endTime,onChange:@handleTimePiker2
                        }"></ms-timepicker>
                    </div>
                    <div class="path ccfwgl-uploadPath"><label for=""><i>*</i>上传路径</label><input type="text" class="form-control"
                            :duplex="@json.uploadUrl" :focus="@handleInputFocus('uploadPath',$event)" :blur="@handleInputBlur('uploadPath','ccfwglModifyDialog',$event)">
                        <em class="fa fa-close close-clear" :mousedown="@handleCloseClear" name="ccfwglModifyDialog.uploadUrl"></em>
                    </div>
                    <div class="path ccfwgl-downloadPath"><label for=""><i>*</i>下载路径</label><input type="text" class="form-control"
                            :duplex="@json.downloadUrl" :focus="@handleInputFocus('downloadPath',$event)" :blur="@handleInputBlur('downloadPath','ccfwglModifyDialog',$event)">
                        <em class="fa fa-close close-clear" :mousedown="@handleCloseClear" name="ccfwglModifyDialog.downloadUrl"></em>
                    </div>
                    <!-- <div class="path "><label for=""><i>*</i>点播路径:</label><input type="text"  class="form-control" :duplex="@json.pointPlayUrl"></div> -->
                    <!-- <div class='warn'><i class="fa fa-hand-o-right"></i>温馨提示：开始时段，结束时段请按顺序选择时，分，秒</div> -->
                    <!-- 配置测试正常 -->
                    <div class="ccfwgl-row test-btn-wrap" :if="@txt_configTest == '配置测试' || @txt_configTest == '正在测试中'"><input
                            class="test-btn" type="button" :attr="{value: @txt_configTest}" :click="@handleTest('ccfwglModifyDialog')">
                    </div>
                    <!-- 配置测试成功 -->
                    <div class="ccfwgl-row test-btn-wrap success" :if="@txt_configTest == '测试正常'"><i class="icon success"></i><input
                            class="test-btn success" type="button" :attr="{value: @txt_configTest}" :click="@handleTest('ccfwglModifyDialog')">
                    </div>
                    <!-- 配置测试失败 -->
                    <div class="ccfwgl-row test-btn-wrap error" :if="@txt_configTest == '测试异常'"><i class="icon error"></i><input
                            class="test-btn error" type="button" :attr="{value: @txt_configTest}" :click="@handleTest('ccfwglModifyDialog')">
                    </div>
                    <div class="clear"></div>
                </div>
            </xmp>
        </div>
        <!-- 添加 -->
        <div :controller="ccfwgl_baqspccgl_addDialog" class="ccfwglAddModify ccfwglAddDialog_add">
            <xmp :widget="{title : @title,is:'common-ms-modal',modalSelector:'.ccfwglAddDialog',drag:true,modalWidth:720,show: @show, onCancel: @handleCancel, onOk: @handleOk, btnalign:'center'}">
                <div class="commonDialog ccfwgl ccfwglAddDialog">
                    <div class="ccfwgl-row  ccfwgl-serviceName"><label for=""><i>*</i>服务名称</label><input type="text"
                            class="form-control" :duplex="@json.name" :focus="@handleInputFocus('serviceName',$event)"
                            :blur="@handleInputBlur('serviceName','ccfwglAddDialog',$event)"><em class="fa fa-close close-clear"
                            :mousedown="@handleCloseClear" name="ccfwglAddDialog.name"></em></div>
                    <div class="ccfwgl-row double ccfwgl-ip"><label for=""><i>*</i>IP</label><input type="text" class="form-control"
                            :duplex="@json.ip" :focus="@handleInputFocus('ip',$event)" :blur="@handleInputBlur('ip','ccfwglAddDialog',$event)"><span
                            class="ccfwgl-form-tips" :visible="@showIpBelowTips"><em class="fa fa-info-circle"></em>&nbsp;支持0~255的数字与.的组合</span>
                        <em class="fa fa-close close-clear" :mousedown="@handleCloseClear" name="ccfwglAddDialog.ip"></em>
                    </div>
                    <div class="ccfwgl-row organazition">
                        <ms-form>
                            <ms-form-item :widget="{label:'所属机构'}" :class="'form-item'">
                                <ms-tree-selecting :widget="{tree:@orgData, showSearch:true,selectedKey:@json.orgCode, selectedTitle:@selectedTitle,wrapId: 'tree-select-ccfwgl-2', getSelected:@getSelected,onChange:@handleTreeChange,extraExpandHandle:@extraExpandHandle}"></ms-tree-selecting>
                            </ms-form-item>
                        </ms-form>
                    </div>
                    <div class="ccfwgl-row double ccfwgl-port"><label for=""><i>*</i>端口</label><input type="text" class="form-control"
                            :duplex="@json.port" :focus="@handleInputFocus('port',$event)" :blur="@handleInputBlur('port','ccfwglAddDialog',$event)"><span
                            class="ccfwgl-form-tips" :visible="@showPortBelowTips"><em class="fa fa-info-circle"></em>&nbsp;支持数字组合[0~65535]大小范围</span>
                        <em class="fa fa-close close-clear" :mousedown="@handleCloseClear" name="ccfwglAddDialog.port"></em>
                    </div>
                    <div class="ccfwgl-row  ccfwgl-account"><label for=""><i>*</i>账号</label><input type="text" class="form-control"
                            :duplex="@json.account" :focus="@handleInputFocus('account',$event)" :blur="@handleInputBlur('account','ccfwglAddDialog',$event)"><em
                            class="fa fa-close close-clear" :mousedown="@handleCloseClear" name="ccfwglAddDialog.account"></em></div>
                    <div class="ccfwgl-row double ccfwgl-password"><label for=""><i>*</i>密码</label><input type="text"
                            class="form-control" :duplex="@json.password" :focus="@handleInputFocus('password',$event)"
                            :blur="@handleInputBlur('password','ccfwglAddDialog',$event)"><em class="fa fa-close close-clear"
                            :mousedown="@handleCloseClear" name="ccfwglAddDialog.password"></em></div>
                    <div class="ccfwgl-row ccfwgl-beginTime">
                        <label for=""><i>*</i>开始时段</label>
                        <ms-timepicker :widget="{
                                value:@json.worktimeBegin,onChange:@handleTimePiker3
                            }"></ms-timepicker>
                    </div>
                    <div class="ccfwgl-row double  ccfwgl-endTime">
                        <label for=""><i>*</i>结束时段</label>
                        <ms-timepicker :widget="{
                                value:@json.worktimeEnd,onChange:@handleTimePiker4
                            }"></ms-timepicker>
                    </div>
                    <div class="path ccfwgl-uploadPath"><label for=""><i>*</i>上传路径</label><input type="text" class="form-control"
                            :duplex="@json.uploadUrl" :focus="@handleInputFocus('uploadPath',$event)" :blur="@handleInputBlur('uploadPath','ccfwglAddDialog',$event)">
                        <em class="fa fa-close close-clear" :mousedown="@handleCloseClear" name="ccfwglAddDialog.uploadUrl"></em>
                    </div>
                    <div class="path ccfwgl-downloadPath"><label for=""><i>*</i>下载路径</label><input type="text" class="form-control"
                            :duplex="@json.downloadUrl" :focus="@handleInputFocus('downloadPath',$event)" :blur="@handleInputBlur('downloadPath','ccfwglAddDialog',$event)">
                        <em class="fa fa-close close-clear" :mousedown="@handleCloseClear" name="ccfwglAddDialog.downloadUrl"></em>
                    </div>
                    <!-- <div class="path "><label for=""><i>*</i>点播路径:</label><input type="text"  class="form-control" :duplex="@json.pointPlayUrl"></div> -->
                    <!-- <div class='warn'><i class="fa fa-hand-o-right"></i>温馨提示：开始时段，结束时段请按顺序选择时，分，秒</div> -->
                    <!-- 配置测试正常 -->
                    <div class="ccfwgl-row test-btn-wrap" :if="@txt_configTest == '配置测试' || @txt_configTest == '正在测试中'"><input
                            class="test-btn" type="button" :attr="{value: @txt_configTest}" :click="@handleTest('ccfwglAddDialog')">
                    </div>
                    <!-- 配置测试成功 -->
                    <div class="ccfwgl-row test-btn-wrap success" :if="@txt_configTest == '测试正常'"><i class="icon success"></i><input
                            class="test-btn success" type="button" :attr="{value: @txt_configTest}" :click="@handleTest('ccfwglAddDialog')">
                    </div>
                    <!-- 配置测试失败 -->
                    <div class="ccfwgl-row test-btn-wrap error" :if="@txt_configTest == '测试异常'"><i class="icon error"></i><input
                            class="test-btn error" type="button" :attr="{value: @txt_configTest}" :click="@handleTest('ccfwglAddDialog')">
                    </div>
                    <div class="clear"></div>
                </div>
            </xmp>
        </div>
        <!-- 配置测试弹框 -->
        <div :controller="ccfwgl_baqspccgl_configTest">
            <xmp :widget="{title : @title,is:'common-ms-modal',modalSelector:'.deviceTest',drag:true,modalWidth:@modalWidth,show: @show, onCancel: @handleCancel, onOk: @handleOk,ifcancelBtn:false,ifokBtn:false}">
                <div class="commonDialog ccfwgl deviceTest">
                    <div class="confirm-tip">{{@testResult}}</div>
                    <div class="yes"><button :click="@deviceTestClick">确定</button></div>
                </div>
            </xmp>
        </div>
        <!-- 删除弹框 -->
        <div :controller="ccfwgl_baqspccgl_deleteDialog">
            <xmp :widget="{title : @title,is:'common-ms-modal',modalSelector:'.delete',drag:true,modalWidth:@modalWidth,show: @show, onCancel: @handleCancel, onOk: @handleOk, btnalign:'center'}">
                <div class="commonDialog ccfwgl delete">
                    <div :visible="toggle" class="confirm-tip">是否确定删除该项数据？</div>
                    <div :visible="!toggle" class="confirm-tip">是否确定删除选中的&nbsp;{{deleteCount}}&nbsp;条数据？</div>
                </div>
            </xmp>
        </div>
        <!-- 存储策略弹框 -->
        <!-- <div :controller="ccfwgl_baqspccgl_methodDialog">
            <xmp :widget="{title : @title,is:'common-ms-modal',modalSelector:'.ccfwglMethodDialog',drag:true,modalWidth:@modalWidth,show: @show, onCancel: @handleCancel, onOk: @handleOk}">
                <div class="commonDialog ccfwgl ccfwglMethodDialog">
                    <div class="ccfwgl-row  ccfwgl-normalDay"><label for=""><i>*</i>普通视音频存储期限:</label><input type="text" class="form-control" :duplex="@json.storageTime"
                            :focus="@handleInputFocus('normalDay',$event)" :blur="@handleInputBlur('normalDay','ccfwglMethodDialog',$event)">
                        <span
                            class="ccfwgl-form-tips" :visible="@shownNormalDayBelowTips"><em class="fa fa-info-circle"></em>&nbsp;支持数字组合,最大9位数</span><a>天</a><em class="fa fa-close close-clear"  :mousedown="@handleCloseClear" name="ccfwglMethodDialog.storageTime"></em></div>
                    <div class="ccfwgl-row  ccfwgl-specialDay"><label for=""><i>*</i>重要视音频存储期限:</label><input type="text" class="form-control" :duplex="@json.expireDaysSpecial"
                            :focus="@handleInputFocus('specialDay',$event)" :blur="@handleInputBlur('specialDay','ccfwglMethodDialog',$event)">
                        <span
                            class="ccfwgl-form-tips" :visible="@showSpecialDayBelowTips"><em class="fa fa-info-circle"></em>&nbsp;支持数字组合,最大9位数</span><a>天</a><em class="fa fa-close close-clear"  :mousedown="@handleCloseClear" name="ccfwglMethodDialog.expireDaysSpecial"></em></div>
                    <div class="clear"></div>
                </div>
            </xmp>
        </div> -->
        <div :controller="ccfwgl_baqspccgl_methodDialog">
            <xmp :widget="{title : @title,is:'common-ms-modal',modalSelector:'.ccfwglMethodDialog',drag:true,modalWidth:@modalWidth,show: @show, onCancel: @handleCancel, onOk: @handleOk, btnalign:'center'}">
                <div class="commonDialog ccfwgl ccfwglMethodDialog">
                    <div style="height:190px;width:400px" :controller="ccfwgl_baqspccgl_methodChart" class="method-pie"></div>
                    <div class="ccfwglMethodDialog_bottom">
                        <div class="ccfwgl-row  ccfwgl-normalDay"><label for="">办案区视频存储期限</label>
                            <div class="ccfwgl-right">
                                <input :visible="@showNormalInput" type="text" class="form-control" :duplex="@json.expireDaysNormal"
                                    :focus="@handleInputFocus('normalDay',$event)" :blur="@handleInputBlur('normalDay','ccfwglMethodDialog',$event)">
                                <span class="ccfwgl-form-tips" :visible="@shownNormalDayBelowTips"><em class="fa fa-info-circle"></em>&nbsp;支持数字组合,最大9位数</span>
                                <a :visible="!@showNormalInput" class="dayNumber">{{@json.expireDaysNormal}}</a><a
                                    class="day">天</a><em class="fa fa-close close-clear" :mousedown="@handleCloseClear"
                                    name="ccfwglMethodDialog.expireDaysNormal"></em>
                                <button :visible="@showNormalInput" :click="@handleComfirm(0,$event)" class="confirm save"></button>
                                <button :visible="@showNormalInput" :click="@handleModifyCancel(0,$event)" class="confirm cancel"></button>
                                <a :visible="!@showNormalInput" :click="@handleModify()" class="modify">修改</a>
                            </div>
                        </div>
                    </div>
                    <div class="clear"></div>
                </div>
            </xmp>
        </div>
        <!--存储分析弹框-->
        <!-- <div :controller="ccfwglAnalysisDialog">
            <ms-dialog :widget="{$innerVm: 'ccfwglAnalysisDialog', show: @show, onCancel: @handleCancel, onOk: @handleOk,okText:'确定'}">
                <div slot="body" ms-skip class="ccfwglAnalysisDialog common-btn">
                    <xmp is="ms-form" :widget="{$form: @$form,inline: @inline}">
                            <ms-radio-group :widget="{
                                options:@radioOptions,
                                onChange:@handleChange,
                                value :@curValue
                            }">
                            </ms-radio-group>
                    </xmp>
                    <div class="time-form-wrap" :visible="@showTime" >
                        <xmp is="ms-form" :widget="{$form: @$timeForm,inline: @inline}">
                            <ms-form-item :widget="{label:'开始时间'}">
                                <ms-datepicker :widget="@options1"></ms-datepicker>
                            </ms-form-item>
                            <ms-form-item :widget="{label:'结束时间'}">
                                <ms-datepicker :widget="@options2"></ms-datepicker>
                            </ms-form-item>
                            <input type="button" :click="@handleSearchClick" value="查询" class="analysisQuery">
                        </xmp>
                    </div>
                    <div id="chart-container" style="height:420px;width:540px" :controller="ccfwglAnalysisChart"></div>
                </div>
            </ms-dialog>
        </div> -->
        <div :controller="ccfwgl_baqspccgl_analysisDialog">
            <xmp :widget="{title : @title,is:'common-ms-modal',modalSelector:'.ccfwglAnalysisDialog',drag:true,modalWidth:@modalWidth,show: @show, onCancel: @handleCancel, onOk: @handleOk}">
                <div class="ccfwglAnalysisDialog common-btn">
                    <ms-form>
                        <ms-radio-group :widget="{
                                options:@radioOptions,
                                onChange:@handleChange,
                                value :@curValue
                            }">
                        </ms-radio-group>
                    </ms-form>
                    <div class="time-form-wrap" :visible="@showTime">
                        <ms-form :widget="{$form: @$timeForm,inline: @inline}">
                            <ms-form-item :widget="{label:'开始时间'}">
                                <ms-datepicker :widget="@options1"></ms-datepicker>
                            </ms-form-item>
                            <ms-form-item :widget="{label:'结束时间'}">
                                <ms-datepicker :widget="@options2"></ms-datepicker>
                            </ms-form-item>
                            <input type="button" :click="@handleSearchClick" value="查询" class="analysisQuery">
                        </ms-form>
                    </div>
                    <div id="chart-container" style="height:570px;width:670px" :controller="ccfwgl_baqspccgl_analysisChart"></div>
                </div>
            </xmp>
        </div>
        <!-- 办案区分配新弹框(存储分配) -->
        <div :controller="ccfwgl_baqspccgl_allocatioDialog">
            <xmp :widget="{title : @title,is:'common-ms-modal',modalSelector:'.ccfwglAllocationDialog',drag:true,modalWidth:@modalWidth,show: @show, onCancel: @handleCancel, onOk: @handleOk, btnalign:'center'}">
                <div class="ccfwglAllocationDialog  AllocationDialog">
                    <div class="baqccfpgl">
                        <div class="left-wrap">
                            <h5 class="title">未分配的办案区</h5>
                            <div class="left-content">
                                <div class="rightItemsNull" style="display: none;">暂无未分配的办案区</div>
                                <div class="baq-group">
                                    <ul id="leftBAQ">

                                    </ul>
                                </div>
                            </div>
                        </div>
                        <div class="middle-wrap">
                            <div  :class="[@rightDisabled ? 'disabled' : '','fa','fa-angle-right']"  :click="@clickleft()"></div>
                            <div  :class="[@leftDisabled ? 'disabled' : '','fa','fa-angle-left']"  :click="@clickright()"></div>                            
                        </div>
                        <div class="right-wrap">
                            <h5 class="title">已分配的办案区</h5>
                            <div class="right-content">
                                <div class="rightItemsNull" style="display: none;">暂无已分配的办案区</div>
                                <ul id="rightBAQ">
                                </ul>
                                <div style="position: absolute; bottom: 5px;left: 10px;">
                                    <input type="checkbox" :click="@checkAllbaq"  ms-duplex-checked="@allchecked">
                                    <span style="float: none;margin-left: 5px;line-height: 22px;vertical-align: bottom;">全选</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </xmp>
        </div>

        <!-- 办案区分配二期需求新弹框(存储分配) -->
        <div :controller="ccfwgl_common_assign">
            <xmp :widget="{title : @title,is:'common-ms-modal',modalSelector:'.ccfwgl_common_assign',drag:true,modalWidth:@modalWidth,show: @show, onCancel: @handleCancel, onOk: @handleOk, btnalign:'center'}">
                <div id="ccfwgl_common_assign" class="ccfwgl_common_assign">
                    <div class="baqccfpgl">
                        <div class="left-wrap">
                            <h5 class="title">未分配的办案区</h5>
                            <div class="left-content">
                                <div class="input-group">
                                    <input type="text" class="form-control" ms-duplex="@queryParam" :keypress="@handlePress"
                                    :attr="{placeholder:'可根据办案区名称搜索'}">
                                    <span class="input-group-btn">
                                        <button class="btn btn-default" type="button" :click="query">搜索</button>
                                    </span>
                                </div>
                                <div class="baq-group">
                                    <ul id="baqtree" class="ztree"></ul>
                                </div>
                            </div>
                        </div>
                        <div class="middle-wrap">
                            <div  :class="[@rightDisabled ? 'disabled' : '','fa','fa-angle-right']"  :click="@clickleft()"></div>
                            <div  :class="[@leftDisabled ? 'disabled' : '','fa','fa-angle-left']"  :click="@clickright()"></div>                            
                        </div>
                        <div class="right-wrap">
                            <h5 class="title">已分配的办案区</h5>
                            <div class="right-content">
                                <ul id="baqtreeAssign" class="ztree"></ul>
                                <!-- <div class="right-baq">
                                    <dl :for="($index,item) in @resultsGroup">
                                        <dt> 
                                            <i :class="[@item.isIconCollapse ? 'collapse' : 'expand']" :click="@handleCollapseExpand($index)"></i>
                                            <input type="checkbox" class="rightcheckbox" ms-duplex-checked="@item.checked" :attr="{data-orgcode:item.orgId}" :click="@handleCheck($index,@item,$event)">
                                            <em></em><a>{{item.parentName}}</a><span class="fa fa-close" :click="@handleDeleteClick($index)"></span>
                                        </dt>
                                        <dd :for="($$index,childItem) in @item.children"  :class="[@childItem.active ? 'active' : '']"  :click="@handleRightItemClick($$index,$index,$event)" :dblclick="@handleRightItemDbClick($$index,$index,$event)"  ms-effect="{is:'assign-collapse', action:item.action}">
                                            <input type="checkbox" class="rightItemcheckbox" :attr="{data-orgcode:childItem.rid}" ms-duplex-checked="@childItem.checked">
                                            <i class="icon"></i><a :attr="{title:childItem.name}" style="width:195px;">{{childItem.name}}</a>
                                            <span class="fa fa-close" :click="@handleSingleDeleteClick($index,$$index)"></span>
                                        </dd>
                                    </dl>
                                </div>                                -->
                            </div>
                            <!-- <div style="padding:8px;">
                                <input type="checkbox" :click="@checkAllbaq"  ms-duplex-checked="@allchecked">
                                <span style="float: none;margin-left: 5px;line-height: 22px;vertical-align: bottom;">全选</span>
                            </div> -->
                        </div>
                    </div>
                </div>
            </xmp>
        </div>
        <!--列表-->
        <div class="tyywglpt-list-panel">
            <div class="tyywglpt-list-header-wrap">
                <ul class="tyywglpt-list-header">
                    <li class="col-2 first-item">
                        <input type="checkbox" id="checkall" :duplex-checked="@checkAll" data-duplex-changed="@handleCheckAll($event)">
                        <label for="checkall" :class="[@checkAll ? 'check_selected' : 'check_unselected']"></label>
                    </li>
                    <li class="col-4">序号</li>
                    <li class="col-12">所属部门</li>
                    <li class="col-20">服务ID</li>
                    <li class="col-12">服务名称</li>
                    <li class="col-12">IP</li>
                    <li class="col-6">端口</li>
                    <li class="col-6">在线状态</li>
                    <li class="col-8">总容量(GB)</li>
                    <li class="col-8">剩余容量(GB)</li>
                    <li class="col-10 last-item">操作</li>
                </ul>
            </div>
            <ul class="tyywglpt-list-content">
                <li :if="@loading" class="list-loading"><span>结果加载中</span></li>
                <li :if="@noData" class="list-null">暂无数据</li>
                <li :if="!@loading" :for="($index, item) in @tableData">
                    <div class="col-2 first-item">
                        <input type="checkbox" :attr="{'id':$index}" :duplex-checked="item.checked" data-duplex-changed="@handleCheck($index,item,$event)">
                        <label :attr="{'for':$index}" :class="[item.checked ? 'check_selected' : 'check_unselected']"></label>
                    </div>
                    <div class="col-4">{{(@currentPage-1)*@pageSize+$index+1}}</div>

                    <div class="col-12" :attr="{title:item.orgName,'data-toggle':'popover', 'dep':'dep_switch', 'fir':'true','org-id':'true', 'pop': key_dep_switch ? item.orgRid : item.orgName}">{{item.orgName}}</div>
                    <div class="col-20" :attr="{title:item.rid,'data-toggle':'popover'}">{{item.rid}}</div>
                    <div class="col-12" :attr="{title:item.name,'data-toggle':'popover'}">{{item.name}}</div>
                    <div class="col-12" :attr="{title:item.ip,'data-toggle':'popover'}">{{item.ip}}</div>
                    <div class="col-6" :attr="{title:item.port,'data-toggle':'popover'}">{{item.port}}</div>
                    <div :class="['col-6',(item.status==1 ? '' : 'isoffline')]" :attr="{'data-toggle':'popover',title:item.status==1 ? '在线' : '离线'}">{{item.status==1
                        ? online : offline}}</div>
                    <div class="col-8" :attr="{title:item.totalCapacity,'data-toggle':'popover'}">{{item.totalCapacity}}</div>
                    <div class="col-8" :attr="{title:item.remainCapacity,'data-toggle':'popover'}">{{item.remainCapacity}}</div>
                    <div class="col-10">
                        <span>
                            <a :if="@authority.CHECK" class="oparate" href="javascript:void(0)" :click="@handleLookClick ($index,item)">
                                <img src="/static/image/tyywglpt/cz_look.png?__sprite">
                            </a>
                            <a :if="@authority.MODIFY" class="oparate" href="javascript:void(0)" :class="[item.source && 'disabled']"
                                :click="@handleModifyClick ($index,item)">
                                <img src="/static/image/tyywglpt/cz_edit.png?__sprite">
                            </a>
                            <a :if="@authority.DELETE" class="oparate" href="javascript:void(0)" :class="[item.source && 'disabled']"
                                :click="@handleSingleDeleteClick ($index,item)">
                                <img src="/static/image/tyywglpt/cz_del.png?__sprite">
                            </a>
                            <span :if="@authority.OPT_SHOW"> - </span>
                        </span>
                        <!-- <a :if="@authority.CHECK" class="oparate" href="javascript:void(0)" :click="@handleLookClick ($index,item)">查看</a>
                        <a :if="@authority.MODIFY" class="oparate" href="javascript:void(0)" :class="[item.source && 'disabled']" :click="@handleModifyClick ($index,item)">修改</a>
                        <a :if="@authority.DELETE" class="oparate" href="javascript:void(0)" :class="[item.source && 'disabled']" :click="@handleSingleDeleteClick ($index,item)">删除</a> -->
                    </div>
                </li>
            </ul>
        </div>
        <div class="bottom-tool-bar">
            <input :if="@authority.BATCHDELETE" :class="['btn','btn-tool',(@checkBox.length == 0 || @checkedIsSource) && 'disabled']"
                type="button" value="批量删除" :click="@handleDeleteClick()">
        </div>
        <!--分页-->
        <ms-pages :widget="{total:@total,onChange:@handlePageChange,current:@currentPage,getCurrent:@getCurrent}"></ms-pages>
    </article>
</template>